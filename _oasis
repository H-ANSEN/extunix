OASISFormat:  0.1
Name:         extunix
Version:      0.0.1
#LicenseFile:  ?
License:      LGPL-2.1 with OCaml linking exception
Authors:      ygrek
Copyrights:   (C) 2010 ygrek
Homepage:     http://extunix.forge.ocamlcore.org/
BuildTools:   ocamlbuild
Plugins:      DevFiles (0.1.0), META (0.1.0)

Synopsis:     extunix
Description:
  Thin bindings to various low-level system APIs (often non-portable)
  which are not covered by Unix module.

PostConfCommand: ocaml src/discover.ml -ocamlc $ocamlc -ext_obj $ext_obj
PreDistCleanCommand: $rm src/config.h
PostDistCleanCommand: $rm src/config.ml # workaround bug in oasis 0.2.0~alpha1

Library extunix
  Path: src/
  Modules: ExtUnix
  InternalModules: ExtUnixAll, ExtUnixSpecific
  CCOpt: -Isrc # to find config.h
  CSources: config.h,
            eventfd.c, dirfd.c, fsync.c, statvfs.c, atfile.c,
            ioctl_siocgifconf.c, uname.c, fadvise.c, fallocate.c,
            tty_ioctl.c, unistd.c, stdlib.c
  BuildDepends: unix

Executable test
  Path: test/
  Install: false
  CompiledObject: best
  MainIs: test.ml
  BuildDepends: extunix, oUnit (>= 1.0.2)

Test main
  Command: $test 
  TestTools: test

Document api
  Title: API
  Type: ocamlbuild
  BuildTools: ocamldoc
  XOCamlbuildPath:      src/
  XOCamlbuildLibraries: extunix
  XOCamlbuildModules: ExtUnixAll, ExtUnixSpecific

